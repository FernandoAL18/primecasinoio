import * as t from "io-ts";
import { MultisigTypeVersion } from "../wallet";

export const TssWalletCreationSettings = t.partial({
  multiSigTypeVersion: MultisigTypeVersion,
  custodialMultiSigTypeVersion: MultisigTypeVersion,
  coldMultiSigTypeVersion: MultisigTypeVersion,
});

export type TssWalletCreationSettings = t.TypeOf<
  typeof TssWalletCreationSettings
>;

export const TssCoinSetting = t.intersection([
  t.type({ walletCreationSettings: TssWalletCreationSettings }),
  t.partial({
    canMigrateToMPCv2: t.boolean,
  }),
]);

export type TssCoinSetting = t.TypeOf<typeof TssCoinSetting>;

export const TssSettings = t.type({
  coinSettings: t.record(t.string, TssCoinSetting),
});

export type TssSettings = t.TypeOf<typeof TssSettings>;
